<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medical Calculator - Murni Teguh Memorial Hospital</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="mode-psi">
    <div class="container">
        <div class="print-header">
            <img src="https://github.com/didasar91/PSI-Score-Calculator/blob/main/header.jpg?raw=true" alt="Murni Teguh" class="header-image">
        </div>

        <div class="screen-only menu-container">
            <button onclick="showCalculator('psi')" id="btn-psi" class="btn-tab active">PSI Score</button>
            <button onclick="showCalculator('natrium')" id="btn-natrium" class="btn-tab">Koreksi Natrium</button>
        </div>

        <div class="patient-total-wrapper">
            <div class="patient-info">
                <div class="info-line"><span class="label">Nama</span><span>:</span><span id="displayNama">-</span></div>
                <div class="info-line"><span class="label">No. MR</span><span>:</span><span id="displayNoMR">-</span></div>
                <div class="info-line"><span class="label">Tgl Lahir</span><span>:</span><span id="displayTglLahir">-</span></div>
                <div class="info-line"><span class="label">Umur</span><span>:</span><span id="displayUmur">-</span></div>
                <div class="info-line"><span class="label">Tgl Assessment</span><span>:</span><span id="displayTglAsesmen">-</span></div>
            </div>

            <div class="total-section psi-only-result">
                <div class="total-line"><span class="total-label">PSI Score:</span><span id="totalScore">0</span></div>
                <div class="total-line"><span class="total-label">Risk Class:</span><span id="kelasRisiko">-</span></div>
                <div class="total-line"><span class="total-label">Mortality:</span><span id="mortalityRate">-</span></div>
            </div>
            
            <div class="total-section natrium-only-result" style="display:none;">
                <div class="total-line"><span class="total-label">TBW:</span><span id="displayTBW">0</span> L</div>
                <div class="total-line"><span class="total-label">Δ Na+ (1L):</span><span id="displayDelta">0</span> mEq/L</div>
            </div>
        </div>

        <div class="input-form screen-only">
            <div class="form-group"><label>Nama Pasien:</label><input type="text" id="nama"></div>
            <div class="form-group"><label>No. MR (10 Digit):</label><input type="text" id="noMR" maxlength="10"></div>
            <div class="form-group"><label>Tanggal Lahir:</label><input type="date" id="tglLahir"></div>
            <div class="form-group"><label>Jenis Kelamin:</label><select id="jk"><option value="">Pilih</option><option value="L">Laki-laki</option><option value="P">Perempuan</option></select></div>
            <div class="form-group"><label>Tgl Assessment:</label><input type="date" id="tglAsesmen"></div>
            <div class="form-group"><label>Berat Badan (kg):</label><input type="number" id="bb"></div>
        </div>

        <div id="calc-psi-content">
            <h2 class="form-title">Pneumonia Severity Index</h2>
            <div class="psi-tables">
                <table class="scoring-table">
                    <thead><tr><th>Kriteria</th><th class="score-col">Skor</th></tr></thead>
                    <tbody>
                        <tr><td>Usia</td><td class="score-col" id="scoreUsia">0</td></tr>
                        <tr><td><label class="checkbox-label"><input type="checkbox" class="psi-check" data-score="10" data-id="panti"> Penghuni Panti Werda</label></td><td class="score-col" id="scorePanti">0</td></tr>
                        <tr><td><label class="checkbox-label"><input type="checkbox" class="psi-check" data-score="30" data-id="keganasan"> Keganasan</label></td><td class="score-col" id="scoreKeganasan">0</td></tr>
                        <tr><td><label class="checkbox-label"><input type="checkbox" class="psi-check" data-score="20" data-id="hati"> Penyakit Hati</label></td><td class="score-col" id="scoreHati">0</td></tr>
                        <tr><td><label class="checkbox-label"><input type="checkbox" class="psi-check" data-score="10" data-id="jantung"> Gagal Jantung Kongestif</label></td><td class="score-col" id="scoreJantung">0</td></tr>
                        <tr><td><label class="checkbox-label"><input type="checkbox" class="psi-check" data-score="20" data-id="kesadaran"> Gangguan Kesadaran</label></td><td class="score-col" id="scoreKesadaran">0</td></tr>
                        <tr><td><label class="checkbox-label"><input type="checkbox" class="psi-check" data-score="20" data-id="nafas"> Nafas >30x/m</label></td><td class="score-col" id="scoreNafas">0</td></tr>
                        <tr><td><label class="checkbox-label"><input type="checkbox" class="psi-check" data-score="20" data-id="ureum"> Ureum > 64.2 mg/dL</label></td><td class="score-col" id="scoreUreum">0</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div id="calc-natrium-content" style="display:none;">
            <h2 class="form-title">Koreksi Natrium (Adrogué-Madias)</h2>
            <div class="input-form screen-only">
                <div class="form-group"><label>Na+ Serum Pasien:</label><input type="number" id="naSerum"></div>
                <div class="form-group">
                    <label>Cairan Infus:</label>
                    <select id="naInfus">
                        <option value="513">NaCl 3% (513 mEq/L)</option>
                        <option value="154">NaCl 0.9% (154 mEq/L)</option>
                        <option value="130">Ringer Laktat (130 mEq/L)</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="dpjp-section">
            <p>Diketahui oleh,</p>
            <input type="text" id="inputDPJP" placeholder="Nama DPJP" class="screen-only">
            <div id="displayDPJP" class="dpjp-name"></div>
        </div>

        <div class="screen-only" style="margin-top:20px; display:flex; gap:10px;">
            <button onclick="window.print()" class="btn-primary">Print PDF</button>
            <button onclick="location.reload()" class="btn-secondary">Reset</button>
        </div>
    </div>
    <script src="script.js"></script>
</body>
</html>
